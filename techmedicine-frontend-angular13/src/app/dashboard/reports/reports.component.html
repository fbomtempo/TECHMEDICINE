<div>
  <div class="row">
    <div class="pt-4 pb-md-0 pb-3 col-md-3">
      <a class="fs-5 display-1 back" (click)="onHome()"
        ><i class="fas fa-home"></i><span class="ms-2">Home</span></a
      >
    </div>
    <h1 class="text-center pb-5">Relatórios da Clínica</h1>
  </div>
  <div class="row text-center">
    <div class="col-sm-4 col-12 pt-sm-0 pt-3">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Pacientes Cadastrados</h5>
          <p class="card-text fs-2 fw-bold">{{ totalPatients }}</p>
          <a
            class="btn btn-primary"
            [routerLink]="['/pacientes']"
            [queryParams]="{ pagina: 1 }"
            >Módulo de Pacientes</a
          >
        </div>
      </div>
    </div>
    <div class="col-sm-4 col-12 pt-sm-0 pt-3">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Total de Agendamentos</h5>
          <p class="card-text fs-2 fw-bold">{{ totalAppointments }}</p>
          <a class="btn btn-warning" [routerLink]="['/agendamentos']"
            >Módulo de Agendamentos</a
          >
        </div>
      </div>
    </div>
    <div class="col-sm-4 col-12 pt-sm-0 pt-3">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">Atendmeintos Bem-Sucedidos</h5>
          <p class="card-text fs-2 fw-bold">{{ totalCheckUps }}</p>
          <a
            class="btn btn-danger"
            [routerLink]="['/atendimentos']"
            [queryParams]="{ pagina: 1 }"
            >Módulo de Atendimentos</a
          >
        </div>
      </div>
    </div>
  </div>
  <div class="row pt-5 pb-4">
    <div class="col-12">
      <div class="text-center"><h3>Atendimentos por Médico</h3></div>
      <label for="medic" class="form-label">Médico:</label>
      <ng-select
        [items]="medics"
        (change)="setFilterMedic($event)"
        bindLabel="searchLabel"
        labelForId="medic"
        placeholder="Selecione o médico"
        clearAllText="Limpar"
        [compareWith]="compareFnMedic"
        [loading]="medicsLoading"
        notFoundText="Nenhum item encontrado"
        [virtualScroll]="true"
      >
        <ng-template ng-label-tmp let-item="item">
          {{ item.name + " " + item.surname }}
        </ng-template>
        <ng-template
          ng-option-tmp
          let-item="item"
          let-index="index"
          let-search="searchTerm"
        >
          <div style="margin: 10px 0" class="card">
            <div class="card-body">
              <h5 class="card-title">
                {{ item.name + " " + item.surname }}
              </h5>
              <h6 class="card-subtitle mb-2 text-muted">CPF: {{ item.cpf }}</h6>
              <h6 class="card-subtitle mb-2 text-muted">
                Telefone: {{ item.mobilePhone }}
              </h6>
            </div>
          </div>
        </ng-template>
      </ng-select>
    </div>
  </div>
  <div *ngIf="loadGraph && filterMedic" class="pt-3 pb-5">
    <div style="display: block">
      <canvas
        baseChart
        width="400"
        height="165"
        [data]="lineChartData"
        [options]="lineChartOptions"
        [type]="lineChartType"
      ></canvas>
    </div>
  </div>
</div>
